<?xml version="1.0" encoding="UTF-8"?>
<!--
  $Log: springTOMCAT6.xml,v $
  Revision 1.5  2011-11-30 13:51:45  europe\m168309
  adjusted/reversed "Upgraded from WebSphere v5.1 to WebSphere v6.1"

  Revision 1.1  2011/10/19 14:49:47  Peter Leeuwenburgh <peter.leeuwenburgh@ibissource.org>
  Upgraded from WebSphere v5.1 to WebSphere v6.1

  Revision 1.3  2011/10/04 09:54:07  Gerrit van Brakel <gerrit.van.brakel@ibissource.org>
  added bean appServerJndiContextPrefix

  Revision 1.2  2010/02/03 15:00:21  Gerrit van Brakel <gerrit.van.brakel@ibissource.org>
  updated spring xsds to 2.5

  Revision 1.1  2009/11/06 08:03:37  Peter Leeuwenburgh <peter.leeuwenburgh@ibissource.org>
  cosmetic change

  Revision 1.1  2009/10/29 13:23:12  Peter Leeuwenburgh <peter.leeuwenburgh@ibissource.org>
  Run IBIS on Tomcat

-->
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="
            http://www.springframework.org/schema/beans xml/xsd/spring-beans-2.5.xsd
            http://www.springframework.org/schema/util xml/xsd/spring-util-2.5.xsd
            ">

    <!-- Transaction stuff -->
    <!-- In order to properly handle 'Propagation: Supports', set property
         'transactionSynchronization' to 'Synchronize on actual transaction'. -->
    
    <!-- Defining a open source transaction manager -->
    <bean id="txManagerReal" class="org.springframework.transaction.jta.JtaTransactionManager"
    	lazy-init="true">
        <property name="transactionManager">
            <bean class="org.springframework.transaction.jta.JotmFactoryBean"/>
        </property>
        <property name="transactionSynchronization">
            <util:constant static-field="org.springframework.transaction.support.AbstractPlatformTransactionManager.SYNCHRONIZATION_ON_ACTUAL_TRANSACTION"/>
        </property>
    </bean>
    
    <!-- Replace with whatever TaskExecutor implementation suits best -->
    <bean name="taskExecutor" class="org.springframework.core.task.SimpleAsyncTaskExecutor"
        scope="singleton">
    </bean>
    
    <bean id="messageListenerClassName" class="java.lang.String">
        <constructor-arg value="org.springframework.jms.listener.DefaultMessageListenerContainer102"/>
    </bean>

    <bean name="appServerJndiContextPrefix" class="java.lang.String">
        <constructor-arg value="java:comp/env/"/>
    </bean>
</beans>
